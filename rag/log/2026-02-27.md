# 2026-02-27 멀티스텝 추론 스코프 버그 수정 재검증

## 상태 확인 (db85438 이후 유지)
- RRF_K(line 697), INTENT_WEIGHTS(line 699): 모듈 레벨 상수 유지 ✅
- vdb = get_db() (line 995): 멀티스텝 블록 前 할당 확인 ✅
- bm25_index, bm25_docs: 모듈 글로벌 (get_db에서 초기화) 정상 ✅
- cache._sessions: 오타 수정 유지 (line 884) ✅

## curl 테스트 3종 PASS
1. GET /api/sessions → 세션 목록 정상 반환 ✅
2. POST /api/chat (단순): "팰월드 람볼 체력" → `{"answer":"람볼의 체력은 70입니다.","sources":["palworld/팰월드"]}` ✅
3. POST /api/chat (멀티스텝 비교): "팰월드 람볼이랑 오버워치 리퍼 비교" → sources: [palworld/pal_lamball, overwatch/리퍼] ✅
